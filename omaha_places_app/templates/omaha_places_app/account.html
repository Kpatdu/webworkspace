{% extends 'omaha_places_app/base.html' %}
{% load static %}
{% block content %}

<!-- Template to display the account page -->
<!DOCTYPE html>
<html lang="en">

<style>

  .modal {
    display: none;
    position: fixed;
    z-index: 1;
    padding-top: 100px;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgb(0,0,0);
    background-color: rgba(0,0,0,0.4);
  }

  .modal-content {
    background-color: #fefefe;
    margin: 5% auto;
    padding: 20px;
    border: 1px solid #888;
    width: 80%;
  }

</style>

<!--Tab Title-->
<head>
    <meta charset="UTF-8">
    <title>Account Details</title>
  </head>

<!--Header-->
<h1> Account </h1>
<p>Welcome, {{ user.username }}!</p>


<p>Change Password</p>
<button id="passwordButton">Click Here >></button>
<p>View Saved Locations</p>
<a href="{% url 'view_saved_locations' %}"><button>Click Here >></button></a>
<p>View Calendar</p>
<a href="{% url 'calendar' %}"><button>Click Here >></button></a>

<!-- Modal for Password-->
 <div id="passwordModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Change Password</h2>
        <div id="model-body">
      </div>
    </div>
</div>

<script>
  var modal = document.getElementById("passwordModal");
  var btn = document.getElementById("passwordButton");
  // When the user clicks the button, open the modal
  btn.onclick = function() {
    fetch("{% url 'change_password' %}").then(response => response.text()).then(html => {
      document.getElementById("model-body").innerHTML = html;
      modal.style.display = "block";
    })
    modal.style.display = "block";
  }
  // When the user clicks anywhere outside of the modal, close it
  window.onclick = function(event) {
    if (event.target == modal) {
      modal.style.display = "none";
    }
  }
</script>

{% endblock%}