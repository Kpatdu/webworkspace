{% extends 'omaha_places_app/base.html' %}

{% block content %}

<!--Tab title-->
<title>All Locations</title> 

<!--Page Header-->
<center><h1>Restaurants & Attractions in Omaha</h1></center>
</br>

<!--Filter inputs-->
<form method="GET" action=".">
    <input class="form-control py-2 border-right-0 border" type="search" name="name_contains" placeholder="Name..." />
    <input class="form-control py-2 border-right-0 border" type="search" name="cat_contains" placeholder="Category..." />
    <div>
        <input type="number" min=0 class="form-control" id="priceMin" placeholder="Price Minimum" name="price_min">
        <input type="number" min=0 class="form-control" id="priceMax" placeholder="Price Maximum" name="price_max">
        <input type="number" class="form-control" id="ratingMin" placeholder="Rating Mimimum" name="rating_min">
        <input type="number" class="form-control" id="ratingMax" placeholder="Rating Maximum" name="rating_max">
        
    </div>
    <button type="submit" class="btn btn-primary">Search</button>
</form>

<!-- Section: Restaurants -->
<h2>Restaurants</h2>
<div class="location-list">
    {% for restaurant in all_restaurants %}
        <div class="location-card">
            <h2>{{ restaurant.name }}</h2>
            <p><strong>Address:</strong> {{ restaurant.address }}</p>
            <p><strong>Category:</strong> {{ restaurant.category }}</p>
            <p><strong>Rating:</strong> ⭐ {{ restaurant.rating }}</p>
            
            {% if restaurant.image %}
                <img src="{{ restaurant.image }}" alt="{{ restaurant.name }}" class="location-image">
            {% endif %}

            <p><a href="{% url 'restaurant_detail' restaurant.id %}">View Details</a></p>
        </div>
    {% empty %}
        <p>No restaurants available.</p>
    {% endfor %}
</div>

<!-- Section: Places -->
<h2>Attractions</h2>
<div class="location-list">
    {% for place in all_places %}
        <div class="location-card">
            <h2>{{ place.name }}</h2>
            <p><strong>Address:</strong> {{ place.address }}</p>
            <p><strong>Category:</strong> {{ place.category }}</p>
            <p><strong>Rating:</strong> ⭐ {{ place.rating }}</p>
            
            {% if place.image %}
                <img src="{{ place.image }}" alt="{{ place.name }}" class="location-image">
            {% endif %}

            <p><a href="{% url 'place_detail' place.id %}">View Details</a></p>
        </div>
    {% empty %}
        <p>No attractions available.</p>
    {% endfor %}
</div>

<!-- CSS -->
<style>
    /* Center the list and ensure cards are arranged properly */
    .location-list { 
        display: flex; 
        flex-wrap: wrap; 
        gap: 20px; 
        justify-content: center;
        margin: 0 auto;
    }

    /* Style for individual location card */
    .location-card { 
        border: 1px solid #ccc; 
        padding: 10px; 
        border-radius: 8px; 
        width: 300px; 
        text-align: left;
        box-sizing: border-box;
    }

    /* Style for images to fit within the card */
    .location-image {
        width: 100%;
        height: 200px;
        object-fit: cover;
        border-radius: 4px;
    }
</style>

{% endblock %}
