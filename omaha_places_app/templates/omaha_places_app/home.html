{% extends 'omaha_places_app/base.html' %}
<!DOCTYPE html>

<!-- Display Home -->
{% block content %}
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Omaha Locations</title>
</head>

<body>

    <!-- Random Images for Header -->
    <div class="random-image-header-container">
        <div id="random-image-container">
            <img src="{{ all_images|random }}" alt="Random Place or Restaurant" class="random-image-header fade" id="random-image-1">
            <img src="{{ all_images|random }}" alt="Random Place or Restaurant" class="random-image-header fade" id="random-image-2">
            <img src="{{ all_images|random }}" alt="Random Place or Restaurant" class="random-image-header fade" id="random-image-3">
        </div>
    </div>

    <!-- Divider -->
    <hr class="divider">

    <!-- Welcome message and brief about us -->
    <center>
    <br/>
    <div class="restaurant-card">
        <center><h1>Welcome to Omaha Locations!</h1></center>
        <br/>
        Our purpose is to create an online resource system that combines both the features of an online database and a travel guide. 
        This web-based application will provide you with information about various locations you can visit in Omaha, Nebraska. 
        <br/><br/>
        Compared to already existing online travel guides for Nebraska or resources such as Google, 
        this application is intended to highlight hidden spots in Omaha as well as help local businesses 
        instead of recommending already popular locations.
    </div>
    </center>
    <br/>

    <!-- Divider -->
    <hr class="divider">

    <!-- Random Images for Locations -->
    </br>
    <center><div class="random-image-locations-container">
        <div style="clear: both;"></div>
        <hr class="divider">
        {% with all_images|random as random_image_4 %}
        <img src="{{ random_image_4 }}" alt="Random Place or Restaurant" class="random-image-location1">
        {% endwith %}

        {% with all_images|random as random_image_5 %}
        <img src="{{ random_image_5 }}" alt="Random Place or Restaurant" class="random-image-location2">
        {% endwith %}

        {% with all_images|random as random_image_6 %}
        <img src="{{ random_image_6 }}" alt="Random Place or Restaurant" class="random-image-location3">
        {% endwith %}

        {% with all_images|random as random_image_7 %}
        <img src="{{ random_image_7 }}" alt="Random Place or Restaurant" class="random-image-location4">
        {% endwith %}
    </div></div></center>

</body>
</html>

{% endblock %}

<!-- CSS -->
{% block script %}
<style>
/* Full-width image */
    .random-image-header {
        width: 500px;
        height: 400px;
        margin-bottom: 0;
        object-fit: cover;
        transition: opacity 1s ease-in-out;
        margin: 0;
    }

/* Add fading effect */
    .fade {
        opacity: 1;
    }

/* Header container */
    .random-image-header-container {
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: black; /* Black background */
        overflow: hidden;
        width: 100%;
        height: 400px;
        position: relative;
        margin: 0; /* Ensure no margin around the container */
    }

/* Diagonal Cut Images */
    .random-image-header:nth-child(1) {
        clip-path: polygon(0 0, 100% 0, 80% 100%, 0 100%);
    }

    .random-image-header:nth-child(2) {
        clip-path: polygon(20% 0, 100% 0, 80% 100%, 0 100%);
    }

    .random-image-header:nth-child(3) {
        clip-path: polygon(20% 0, 100% 0, 100% 100%, 0% 100%);
    }

/* Container for random images; Locations */
    .random-image-locations-container {
        width: 75%;
        min-height: 600px;
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        position: relative;
        margin: 0; /* Ensure no margin around the container */
    }

/* Location image styles */
    .random-image-location1 {
        width: 500px;
        height: 400px;
        margin-right: 5px;
        margin-left: 5px;
        margin-bottom: 5px;
    }

    .random-image-location2 {
        width: 500px;
        height: 200px;
        margin-right: 5px;
        margin-left: 0px;
        margin-bottom: 5px;
    }

    .random-image-location3 {
        width: 500px;
        height: 200px;
        margin-right: 5px;
        margin-left: 5px;
        margin-bottom: 5px;
            (100% 100%,
            0% 100%);
        object-fit: cover;
        transition: opacity 1s ease-in-out;
        margin: 0;
    }

    .random-image-location4 {
        width: 500px;
        height: 400px;
        margin-right: 5px;
        margin-left: 5px;
        margin-bottom: 5px;
        margin-top: -200px;
    }

/* Divider style */
    hr.divider {
        border: 0;
        border-top: 3px solid black !important;
        opacity: 1;
        margin: 0;
    }

/* Style for individual description card */
    .restaurant-card { 
        border: 1px solid #ccc; 
        padding: 10px; 
        border-radius: 8px; 
        width: 750px; 
        text-align: left;
        box-sizing: border-box;
    }
</style>

<!-- JavaScript -->
<script>
    const allImages = {{ all_images|safe }};
    
    // Function to fade out the images
    function fadeOutImages() {
        let images = document.querySelectorAll('.random-image-header');
        images.forEach((image) => {
            image.classList.remove('fade');
        });
    }

    // Function to change images and fade them in
    function changeImages() {
        let images = document.querySelectorAll('.random-image-header');
        images.forEach((image) => {
            // Choose a random image from the list
            const randomImage = allImages[Math.floor(Math.random() * allImages.length)];
            
            // Change the source of the image
            image.src = randomImage;
            
            // Fade in the image
            setTimeout(() => {
                image.classList.add('fade');
            }, 1000); // Wait 1 second for the fade-in effect
        });
    }

    // Set the interval to change images every 5 seconds
    setInterval(() => {
        fadeOutImages(); // Fade out the images
        setTimeout(() => {
            changeImages(); // Change to new random images after 1 second
        }, 2000); // Wait for 2 seconds (time for fade-out)
    }, 5000); // Change images every 5 seconds
</script>

{% endblock %}